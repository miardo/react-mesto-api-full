[{"/Users/Miardo/dev/react-mesto-auth/src/index.js":"1","/Users/Miardo/dev/react-mesto-auth/src/reportWebVitals.js":"2","/Users/Miardo/dev/react-mesto-auth/src/components/App.js":"3","/Users/Miardo/dev/react-mesto-auth/src/components/Main.js":"4","/Users/Miardo/dev/react-mesto-auth/src/components/Header.js":"5","/Users/Miardo/dev/react-mesto-auth/src/components/Footer.js":"6","/Users/Miardo/dev/react-mesto-auth/src/components/PopupWithForm.js":"7","/Users/Miardo/dev/react-mesto-auth/src/components/ImagePopup.js":"8","/Users/Miardo/dev/react-mesto-auth/src/components/EditAvatarPopup.js":"9","/Users/Miardo/dev/react-mesto-auth/src/components/EditProfilePopup.js":"10","/Users/Miardo/dev/react-mesto-auth/src/components/AddPlacePopup.js":"11","/Users/Miardo/dev/react-mesto-auth/src/contexts/CurrentUserContext.js":"12","/Users/Miardo/dev/react-mesto-auth/src/utils/api.js":"13","/Users/Miardo/dev/react-mesto-auth/src/components/Card.js":"14","/Users/Miardo/dev/react-mesto-auth/src/components/Login.js":"15","/Users/Miardo/dev/react-mesto-auth/src/components/Register.js":"16","/Users/Miardo/dev/react-mesto-auth/src/components/InfoTooltip.js":"17","/Users/Miardo/dev/react-mesto-auth/src/utils/auth.js":"18","/Users/Miardo/dev/react-mesto-auth/src/components/ProtectedRoute.js":"19"},{"size":602,"mtime":1626198907560,"results":"20","hashOfConfig":"21"},{"size":362,"mtime":1623867746618,"results":"22","hashOfConfig":"21"},{"size":6322,"mtime":1626894625828,"results":"23","hashOfConfig":"21"},{"size":1847,"mtime":1625425927125,"results":"24","hashOfConfig":"21"},{"size":3270,"mtime":1627066040612,"results":"25","hashOfConfig":"21"},{"size":220,"mtime":1624212711127,"results":"26","hashOfConfig":"21"},{"size":778,"mtime":1626510311941,"results":"27","hashOfConfig":"21"},{"size":821,"mtime":1624212827057,"results":"28","hashOfConfig":"21"},{"size":949,"mtime":1626510355787,"results":"29","hashOfConfig":"21"},{"size":1705,"mtime":1626799883195,"results":"30","hashOfConfig":"21"},{"size":1318,"mtime":1626510364459,"results":"31","hashOfConfig":"21"},{"size":84,"mtime":1624996855755,"results":"32","hashOfConfig":"21"},{"size":2562,"mtime":1625425722055,"results":"33","hashOfConfig":"21"},{"size":1626,"mtime":1625425933943,"results":"34","hashOfConfig":"21"},{"size":1179,"mtime":1626801734909,"results":"35","hashOfConfig":"21"},{"size":1447,"mtime":1626730995536,"results":"36","hashOfConfig":"21"},{"size":795,"mtime":1626643656736,"results":"37","hashOfConfig":"21"},{"size":1037,"mtime":1626733593087,"results":"38","hashOfConfig":"21"},{"size":358,"mtime":1626646142030,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"11yoo0m",{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/Miardo/dev/react-mesto-auth/src/index.js",[],"/Users/Miardo/dev/react-mesto-auth/src/reportWebVitals.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/App.js",["80"],"import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: '', link: '' });\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [data, setData] = useState({ email: ''});\n  const history = useHistory();\n  const [isInfoTooltipStatus, setIsInfoTooltipStatus] = useState({\n    title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n    img: false,\n  });\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => console.log(err));\n\n    api.getInitialCards()\n      .then((initialCards) => {\n        setCards(initialCards)\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleOpenInfoTooltip = () => {\n    setIsInfoTooltip(true);\n  }\n\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltip(false);\n    setSelectedCard({ name: '', link: '' });\n  }\n\n  const handleUpdateUser = (data) => {\n    api.editUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api.addAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleLogin(email, password) {\n    auth.authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('jwt', res.token);\n          setData(email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  function handleRegister(email, password) {\n    auth.register(email, password)\n      .then(() => {\n        handleOpenInfoTooltip()\n        setIsInfoTooltipStatus({ title: \"Вы успешно зарегистрировались!.\", img: true })\n        history.push('/sign-in')\n      })\n      .catch((err) => {\n        handleOpenInfoTooltip()\n        console.log(err);\n      })\n  }\n\n  function handleTokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          setData({ email: res.data.email})\n          setLoggedIn(true)\n          history.push(\"/\");\n        })\n        .catch(err => console.log(err));\n    };\n  };\n\n  useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n  }\n\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header loggedIn={loggedIn} onSignOut={handleSignOut} email={data.email} />\n        <Switch>\n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} component={Main} />\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n        <InfoTooltip title={isInfoTooltipStatus.title} img={isInfoTooltipStatus.img} isOpen={isInfoTooltip} onClose={closeAllPopups} />\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <PopupWithForm name=\"delete-card\" title=\"Вы уверены?\" decoration=\"popup__container-name_style-edition\" text=\"Да\" />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","/Users/Miardo/dev/react-mesto-auth/src/components/Main.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/Header.js",["81"],"import React, { useState, useEffect } from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport logo from '../images/logo_header.svg';\n\nfunction Header(props) {\n    const [open, setOpen] = useState(false)\n\n    const handleBtnClick = () => {\n        const header = document.querySelector(\".header\");\n        const headerElement = document.querySelector(\".header__elements\");\n        const headerBox = document.querySelector(\".header__box\");\n        const headerLogo = document.querySelector(\".header__logo\");\n        const headerLink = document.querySelector(\".header__link\");\n        const headerEmail = document.querySelector(\".header__link-email\");\n        const boxBtn = document.querySelector(\".header__box-btn\");\n        if (open === false) {\n            boxBtn.classList.add(\"open\");\n            header.classList.add(\"header_burger-style\")\n            headerElement.classList.add(\"header__elements_burger-style\")\n            headerBox.classList.add(\"header__box_burger-style\")\n            headerLogo.classList.add(\"header__logo_burger-style\")\n            headerLink.classList.remove(\"header__link_hidden\")\n            headerEmail.classList.remove(\"header__link-email_hidden\")\n            headerEmail.classList.add(\"header__link-email_burger-style\")\n            setOpen(true);\n        } else {\n            boxBtn.classList.remove(\"open\");\n            header.classList.remove(\"header_burger-style\")\n            headerElement.classList.remove(\"header__elements_burger-style\")\n            headerBox.classList.remove(\"header__box_burger-style\")\n            headerLogo.classList.remove(\"header__logo_burger-style\")\n            headerLink.classList.add(\"header__link_hidden\")\n            headerEmail.classList.add(\"header__link-email_hidden\")\n            headerEmail.classList.remove(\"header__link-email_burger-style\")\n            setOpen(false);\n        }\n    }\n\n    return (\n        <header className=\"header \">\n            <div className=\"header__elements\">\n                <Link to=\"/\" className=\"header__logo-link\" >\n                    <img src={logo} alt=\"Место Россиия\" className=\"header__logo \" />\n                </Link>\n                {props.loggedIn ?\n                    <div onClick={handleBtnClick} className=\"header__box-btn\">\n                        <div className=\"header__box-btn-burger\"></div>\n                    </div>\n                    : \"\"}\n            </div>\n            <div className=\"header__box \">\n                <Switch>\n                    <Route path=\"/sign-up\">\n                        {props.loggedIn ? \"\" : <Link className=\"header__link\" to=\"/sign-in\">Вход</Link>}\n                    </Route>\n                    <Route path=\"/sign-in\">\n                        {props.loggedIn ? \"\" : <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>}\n                    </Route>\n                    <Route path=\"/\">\n                        <p className=\"header__link-email header__link-email_hidden\">{props.email}</p>\n                        <Link className=\"header__link header__link_state header__link_hidden\" to=\"/\" onClick={props.onSignOut}>Выйти</Link>\n                    </Route>\n                </Switch>\n            </div>\n        </header>\n    );\n}\n\nexport default Header","/Users/Miardo/dev/react-mesto-auth/src/components/Footer.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/PopupWithForm.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/ImagePopup.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/EditAvatarPopup.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/EditProfilePopup.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/AddPlacePopup.js",[],"/Users/Miardo/dev/react-mesto-auth/src/contexts/CurrentUserContext.js",[],"/Users/Miardo/dev/react-mesto-auth/src/utils/api.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/Card.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/Login.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/Register.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/InfoTooltip.js",[],"/Users/Miardo/dev/react-mesto-auth/src/utils/auth.js",[],"/Users/Miardo/dev/react-mesto-auth/src/components/ProtectedRoute.js",[],{"ruleId":"82","severity":1,"message":"83","line":168,"column":6,"nodeType":"84","endLine":168,"endColumn":8,"suggestions":"85"},{"ruleId":"86","severity":1,"message":"87","line":1,"column":27,"nodeType":"88","messageId":"89","endLine":1,"endColumn":36},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleTokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["90"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar",{"desc":"91","fix":"92"},"Update the dependencies array to be: [handleTokenCheck]",{"range":"93","text":"94"},[4579,4581],"[handleTokenCheck]"]
{"version":3,"sources":["images/logo_header.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/auth.js","components/Login.js","components/Register.js","images/approved.svg","images/error.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","to","src","logo","alt","path","email","onClick","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","id","cardLikeButtonClassName","link","name","onCardClick","type","onCardDelete","aria-label","onCardLike","length","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onSubmit","decoration","title","children","text","onClose","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","value","onChange","target","minLength","maxLength","required","EditAvatarPopup","refAvatar","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","api","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","credentials","then","_getResponseData","data","body","JSON","stringify","cardId","setLike","BASE_URL","checkResponse","Login","onLogin","password","setData","handleChange","Register","onRegister","InfoTooltip","img","approvedImg","errorImg","ProtectedRoute","Component","component","loggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isInfoTooltip","setIsInfoTooltip","setLoggedIn","history","useHistory","isInfoTooltipStatus","setIsInfoTooltipStatus","getUserInfo","userInfo","catch","err","console","log","getInitialCards","initialCards","handleOpenInfoTooltip","closeAllPopups","handleTokenCheck","token","push","Provider","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","auth","editUserInfo","addCard","addAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.41e4282d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_header.03b78ada.svg\";","import React from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport logo from '../images/logo_header.svg';\n\nfunction Header(props) {\n    return (\n        <header className=\"header\">\n            <Link to=\"/\" className=\"header__logo-link\" >\n                <img src={logo} alt=\"Место Россиия\" className=\"header__logo\" />\n            </Link>\n            <div className=\"header__box\">\n            <Switch>\n                <Route path=\"/sign-up\">\n                    <Link className=\"header__link\" to=\"/sign-in\">Вход</Link>\n                </Route>\n                <Route path=\"/sign-in\">\n                    <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\n                </Route>\n                <Route path=\"/\">\n                <p className=\"header__link-email\">{props.email}</p>\n                <Link className=\"header__link header__link_state\" to=\"/\" onClick={props.onSignOut}>Выйти</Link>\n                    </Route>\n            </Switch>\n            </div>\n        </header>\n    );\n}\n\nexport default Header","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const currentUser = useContext(CurrentUserContext);\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    const isOwn = props.card.owner === currentUser._id;\n\n    const cardDeleteButtonClassName = (\n        `elements__delete-button ${isOwn ? '' : 'elements__delete-button_hidden'}`\n    );\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    const isLiked = props.card.likes.some(id => id === currentUser._id);\n\n    const cardLikeButtonClassName = (\n        `elements__button ${isLiked ? `elements__button_active` : ``}`\n    );\n\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n\n    return (\n        <article className=\"elements__box\">\n            <img src={props.card.link} alt={props.card.name} onClick={handleClick} className=\"elements__photo\" />\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick} aria-label=\"Удалить карточку\"></button>\n            <div className=\"elements__footer\">\n                <h3 className=\"elements__text\">{props.card.name}</h3>\n                <div className=\"elements__like-block\">\n                    <button type=\"button\" className={cardLikeButtonClassName} aria-label=\"Лайк\" onClick={handleLikeClick}></button>\n                    <p className=\"elements__likes-counter\">{props.card.likes.length}</p>\n                </div>\n            </div>\n        </article>\n    );\n}\n\nexport default Card","import React, { useContext } from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__img\">\n                    <div style={{ backgroundImage: `url(${currentUser.avatar})` }} alt=\"Аватарка профиля\" className=\"profile__photo\"></div>\n                    <button type=\"button\" className=\"profile__edit-photo-button\" aria-label=\"Редактировать аватарку\" onClick={props.onEditAvatar}></button>\n                </div>\n                <div className=\"profile__account\">\n                    <div className=\"profile__name\">\n                        <h1 className=\"profile__name-text\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile}></button>\n                    </div>\n                    <p className=\"profile__description\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" aria-label=\"Добавить карточку\" onClick={props.onAddPlace}></button>\n            </section>\n            <section className=\"elements\">\n                {props.cards.map((card) => (\n                    <Card\n                        card={card}\n                        key={card._id}\n                        onCardClick={props.onCardClick}\n                        onCardLike={props.onCardLike}\n                        onCardDelete={props.onCardDelete}\n                    />\n                ))}\n            </section>\n        </main>\n    );\n}\n\nexport default Main","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return (\n        <article className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\n            <form name={`${props.name}`} className=\"popup__container\" onSubmit={props.onSubmit}>\n                <h2 className={`popup__container-name ${props.decoration}`}>{props.title}</h2>\n                {props.children}\n                <button type=\"submit\" className=\"popup__container-submit-button popup__container-submit-button\" >{props.text}</button>\n                <button name=\"close-form\" type=\"button\" className=\"popup__container-close-button\" aria-label=\"Закрыть форму\" onClick={props.onClose}></button>\n            </form>\n        </article>\n    );\n}\n\nexport default PopupWithForm","import React from 'react';\n\nfunction ImagePopup(props) {\n    return (\n        <article className={`popup popup_type_show-image ${props.card.link ? 'popup_opened' : ''}`}>\n            <form name=\"image-form\" className=\"popup__container popup__container_style-edition\">\n                <figure className=\"popup__container-image-block\">\n                    <img src={`${props.card.link}`} alt={props.card.name} className=\"popup__container-image\" />\n                    <figcaption className=\"popup__container-text\">{props.card.name}</figcaption>\n                </figure>\n                <button name=\"close-image\" type=\"button\" className=\"popup__container-close-button\" aria-label=\"Закрыть картинку\" onClick={props.onClose}></button>\n            </form>\n        </article>\n    );\n}\n\nexport default ImagePopup","import React, { useState, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    const currentUser = useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, props.isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"edit-form\" title=\"Редактировать профиль\" text=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"name-input\" type=\"text\" name=\"name\" placeholder=\"Имя\" value={name || ''} onChange={handleChangeName} className=\"popup__container-input\" minLength=\"2\" maxLength=\"40\" required />\n            <span className=\"name-input-error popup__container-input-error\"></span>\n            <input id=\"job-input\" type=\"text\" name=\"about\" placeholder=\"Вид деятельности\" value={description || ''} onChange={handleChangeDescription} className=\"popup__container-input\" minLength=\"2\" maxLength=\"200\" required />\n            <span className=\"job-input-error popup__container-input-error\"></span>\n        </PopupWithForm>\n    )\n};\n\nexport default EditProfilePopup;","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    const refAvatar = useRef('')\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: refAvatar.current.value,\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"ava-form\" title=\"Обновить аватар\" decoration=\"popup__container-name_style-edition\" text=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input ref={refAvatar} id=\"ava-url-input\" type=\"url\" name=\"link\" placeholder=\"Ссылка на аватарку\" className=\"popup__container-input popup__container-input_style-edition\" required />\n            <span className=\"ava-url-input-error popup__container-input-error popup__container-input-error_style-edition\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const [name, setName] = useState('');\n    const [link, setLink] = useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value)\n    }\n\n    function handleChangeLink(e) {\n        setLink(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onAddPlace({\n            name,\n            link\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"add-form\" title=\"Новое место\" text=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"new-name-input\" type=\"text\" name=\"name\" placeholder=\"Название\" value={name || ''} onChange={handleChangeName} className=\"popup__container-input\" minLength=\"2\" maxLength=\"30\" required />\n            <span className=\"new-name-input-error popup__container-input-error\"></span>\n            <input id=\"url-input\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" value={link || ''} onChange={handleChangeLink} className=\"popup__container-input\" required />\n            <span className=\"url-input-error popup__container-input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup","class Api {\n    constructor(options) {\n        this._url = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    _getResponseData(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            method: 'GET',\n            credentials: 'include',\n            headers: this._headers,\n        })\n            .then(this._getResponseData);\n    }\n\n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, {\n            method: 'GET',\n            credentials: 'include',\n            headers: this._headers,\n        })\n            .then(this._getResponseData);\n    }\n\n    editUserInfo(data) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            credentials: 'include',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(this._getResponseData);\n    }\n\n    addCard(data) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            credentials: 'include',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._getResponseData);\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._url}/cards/${cardId}`, {\n            method: 'DELETE',\n            credentials: 'include',\n            headers: this._headers,\n        })\n            .then(this._getResponseData);\n    }\n\n    changeLikeCardStatus(cardId, setLike) {\n        return fetch(`${this._url}/cards/${cardId}/likes`, {\n            method: setLike ? 'PUT' : 'DELETE',\n            credentials: 'include',\n            headers: this._headers,\n        })\n            .then(this._getResponseData);\n    }\n\n    addAvatar(data) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            credentials: 'include',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        })\n            .then(this._getResponseData);\n    }\n\n}\n\nconst api = new Api({\n    baseUrl: 'https://api.mesto.practicum.nomoredomains.monster',\n    credentials: 'include',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api","export const BASE_URL = 'https://api.mesto.practicum.nomoredomains.monster';\n\nconst checkResponse = (res) => {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n}\n\nexport const register = ({ email, password }) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then(checkResponse);\n\n};\nexport const authorize = ({ email, password }) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then(checkResponse)\n};\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        credentials: 'include',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        },\n    })\n        .then(checkResponse)\n}","import React, { useState } from 'react';\n\nfunction Login({ onLogin }) {\n    const [data, setData] = useState({\n        email: \"\",\n        password: \"\",\n    });\n\n    function handleChange(e) {\n        const { name, value } = e.target;\n        setData({\n            ...data,\n            [name]: value,\n        });\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        const { email, password } = data;\n        onLogin({ email, password })\n    }\n\n    return (\n        <form name=\"login-form\" className=\"verification\" onSubmit={handleSubmit}>\n            <h2 className=\"verification__title\">Вход</h2>\n            <input value={data.email || ''} onChange={handleChange} id=\"email\" type=\"email\" name=\"email\" placeholder=\"Email\" className=\"verefication__input\" minLength=\"2\" maxLength=\"40\" required />\n            <input value={data.password || ''} onChange={handleChange} id=\"password\" type=\"password\" name=\"password\" placeholder=\"Пароль\" className=\"verefication__input\" minLength=\"2\" maxLength=\"200\" required />\n            <button type=\"submit\" className=\"verefication__submit-button\" >Войти</button>\n        </form>\n    );\n}\n\nexport default Login;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ onRegister }) {\n    const [data, setData] = useState ({\n        email: \"\",\n        password: \"\",\n    });\n\n    function handleChange(e) {\n        const { name, value } = e.target;\n        setData({\n            ...data,\n            [name]: value,\n        });\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        const { email, password } = data;\n        onRegister({ email, password })\n    }\n    \n    return (\n        <form onSubmit={handleSubmit} name=\"login-form\" className=\"verification\">\n            <h2 className=\"verification__title\">Регистрация</h2>\n            <input value={data.email || ''} onChange={handleChange} id=\"email\" type=\"email\" name=\"email\" placeholder=\"Email\" className=\"verefication__input\" minLength=\"2\" maxLength=\"40\" required />\n            <input value={data.password || ''} onChange={handleChange}  id=\"password\" type=\"password\" name=\"password\" placeholder=\"Пароль\" className=\"verefication__input\" minLength=\"2\" maxLength=\"200\" required />\n            <button type=\"submit\" className=\"verefication__submit-button\">Зарегистрироваться</button>\n            <p className=\"verefication__footer\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"verefication__footer-link\" >Войти</Link></p>\n        </form>\n    );\n}\n\nexport default Register;","export default __webpack_public_path__ + \"static/media/approved.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from 'react';\nimport approvedImg from '../images/approved.svg';\nimport errorImg from '../images/error.svg';\n\nfunction InfoTooltip(props) {\n    return (\n        <article className={`popup ${props.isOpen && 'popup_opened'}`}>\n            <div className=\"popup__container popup__container_style-info\">\n                <img className=\"popup__container-info-image\" src={props.img === true ? approvedImg : errorImg} alt={props.title}/>\n                <h2 className=\"popup__container-name popup__container-name_style-info\">{props.title}</h2>\n                <button name=\"close-form\" type=\"button\" className=\"popup__container-close-button\" aria-label=\"Закрыть форму\" onClick={props.onClose}></button>\n            </div>\n        </article>\n    );\n}\n\nexport default InfoTooltip;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n        <Route>\n            {() =>\n            props.loggedIn === true ? <Component {...props} /> : <Redirect to='./sign-in' />\n            }\n        </Route>\n    );\n};\n\nexport default ProtectedRoute;","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: '', link: '' });\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [data, setData] = useState({ email: ''});\n  const history = useHistory();\n  const [isInfoTooltipStatus, setIsInfoTooltipStatus] = useState({\n    title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n    img: false,\n  });\n\n  useEffect(() => {\n    if (loggedIn) {\n    api.getUserInfo()\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => console.log(err));\n\n    api.getInitialCards()\n      .then((initialCards) => {\n        setCards(initialCards)\n      })\n      .catch((err) => console.log(err));\n    }\n  }, [loggedIn]);\n\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleOpenInfoTooltip = () => {\n    setIsInfoTooltip(true);\n  }\n\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltip(false);\n    setSelectedCard({ name: '', link: '' });\n  }\n\n  const handleUpdateUser = (data) => {\n    api.editUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api.addAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(id => id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter(id => id !== card._id));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleLogin(email, password) {\n    auth.authorize(email, password)\n      .then((res) => {\n        if (res) {\n          setData(email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  function handleRegister(email, password) {\n    auth.register(email, password)\n      .then(() => {\n        handleOpenInfoTooltip()\n        setIsInfoTooltipStatus({ title: \"Вы успешно зарегистрировались!.\", img: true })\n        history.push('/sign-in')\n      })\n      .catch((err) => {\n        handleOpenInfoTooltip()\n        console.log(err);\n      })\n  }\n\n  function handleTokenCheck() {\n      auth.getContent()\n        .then((res) => {\n          setData({ email: res.email})\n          setLoggedIn(true)\n          history.push(\"/\");\n        })\n        .catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    handleTokenCheck();\n// eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function handleSignOut() {\n    setLoggedIn(false);\n    setCards([]);\n    setCurrentUser({});\n  }\n\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header onSignOut={handleSignOut} email={data.email} />\n        <Switch>\n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} component={Main} />\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n        <InfoTooltip title={isInfoTooltipStatus.title} img={isInfoTooltipStatus.img} isOpen={isInfoTooltip} onClose={closeAllPopups} />\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <PopupWithForm name=\"delete-card\" title=\"Вы уверены?\" decoration=\"popup__container-name_style-edition\" text=\"Да\" />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}